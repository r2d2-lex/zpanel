{% macro render_hosts(hosts, col) %}
    {% for host in hosts %}
        {% if host.column == col %}

        <div class="card
        {% if host.error %}
            text-white bg-danger
        {% elif host.snmp_error %}
            text-white bg-danger
        {% elif host.problems %}

            {% if host.problems[0].severity|int() == 5  %}
                text-white bg-danger
            {% elif host.problems[0].severity|int() == 4 %}
                text-white bg-danger
            {% elif host.problems[0].severity|int() == 3 %}
                bg-custom-yellow
            {% elif host.problems[0].severity|int() == 2 %}
                bg-custom-yellow
            {% else %}
                bg-custom-aqua
            {% endif %}

        {% else %}
            bg-custom-green
        {% endif %}
        fw-bolder">
            <div class="row g-0 justify-content-center align-items-center">

                    <!-- Первая колонка карточки  -->
                    <div class="col-md-2">
                        {% if host.image %}
                            <img src="http://127.0.0.1:8000/static/images/{{ host.image }}" width="85" height="85" />
                        {% endif %}
                    </div>

                    <!-- Вторая колонка карточки -->
                    <div class="col-md-10">

                        <div class="card-body p-0">
                            <h2 class="card-title fw-bolder">
                                <a class="text-decoration-none text-reset" data-id="{{ host.hostid }}" href="#" style="background-color:transparent" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                    {{ host.name }} ({{ host.interfaces[0]['ip'] }}) {% if host.problems|count > 2 %}[P:{{ host.problems|count }}]{% endif %}
                                </a>
                            </h2>
                                {% if host.error %}<p class="card-text fw-bolder">{{ host.error }}</p>{% endif %}
                                {% if host.snmp_error %}<p class="card-text fw-bolder">snmp: {{ host.snmp_error }}</p>{% endif %}
                                {% if host.problems|count < 3 %}
                                    {% for problem in host.problems %}
                                        <p class="card-text fw-bolder">[{{ problem.clock }}] {{ problem.name }}</p>
                                    {% endfor %}
                                {% endif %}

                        </div>

                    </div>

            </div>
        </div>
        {% endif %}
    {% endfor %}
{% endmacro %}
